var app=angular.module("app",["ngRoute"]);app.controller("MainNavCtrl",["$location","StringUtil",function(r,e){var t=this;t.isActive=function(t){return"/"===t?"/"===r.path():e.startsWith(r.path(),t)}}]),app.config(["$routeProvider",function(r){var e={templateUrl:"users/user.html",controller:"UserCtrl",controllerAs:"vm",resolve:{user:["$route","usersService",function(r,e){var t=r.current.params;return e.getByUserId(t.userid)}]}};r.when("/users/:userid",e)}]).controller("UserCtrl",["user",function(r){this.user=r}]),app.factory("User",function(){return function(r){return r=r||{},{userId:r.userId||"",role:r.role||"user"}}}),app.config(["$routeProvider",function(r){var e={templateUrl:"users/users.html",controller:"UsersCtrl",controllerAs:"vm",resolve:{users:["usersService",function(r){return r.list()}]}};r.when("/users",e)}]).controller("UsersCtrl",["users","usersService","User",function(r,e,t){var n=this;n.users=r,n.newUser=t(),n.addUser=function(){var r=t(n.newUser);e.addUser(r).then(function(){n.users=n.users.filter(function(e){return e.userId!==r.userId}),n.users.push(r)}),n.newUser=t()}}]),app.config(["$routeProvider",function(r){var e={templateUrl:"shares/shares.html",controller:"SharesCtrl",controllerAs:"vm"};r.when("/",e),r.when("/shares",e)}]).controller("SharesCtrl",[function(){this.shares=[]}]),app.factory("StringUtil",function(){return{startsWith:function(r,e){return r=r||"",r.slice(0,e.length)===e}}}),app.factory("usersService",["$http","$q","$log",function(r,e,t){function n(e){return s(r.get(e))}function s(r){return r.then(function(r){return r.data})["catch"](function(r){t.log(r)})}return{list:function(){return n("/api/users")},getByUserId:function(r){if(!r)throw new Error("getByUserId requires a user id");return n("/api/users/"+r)},addUser:function(e){return s(r.post("/api/users",e))}}}]);
//# sourceMappingURL=app.js.map